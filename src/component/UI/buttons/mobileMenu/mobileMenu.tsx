import style from './mobileMenu.module.css';
import { MobileMenuPage, MainPage } from '../../../singlePage';
import { useEffect, useState } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';

export default function MobileMenu() {
  const [menu, setMenu] = useState<boolean>(true);
  const navigate = useNavigate();
  const location = useLocation();

  const isMobileMenuPage = location.pathname === '/PoizonShop/mobilemenu';

  const handleClickMenu = () => {
    if (isMobileMenuPage) {
      navigate('/PoizonShop/');
    } else {
      navigate('/PoizonShop/mobilemenu');
    }
    setMenu(!menu);
  };

  const openMenu = (
    <svg
      width="28"
      height="19"
      viewBox="0 0 28 19"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={style.buttonSvg}
      onClick={handleClickMenu}
    >
      <path d="M2.625 0H0.875C0.391751 0 0 0.417868 0 0.933333V2.8C0 3.31547 0.391751 3.73333 0.875 3.73333H2.625C3.10825 3.73333 3.5 3.31547 3.5 2.8V0.933333C3.5 0.417868 3.10825 0 2.625 0Z" />
      <path d="M2.625 7.46667H0.875C0.391751 7.46667 0 7.88453 0 8.4V10.2667C0 10.7821 0.391751 11.2 0.875 11.2H2.625C3.10825 11.2 3.5 10.7821 3.5 10.2667V8.4C3.5 7.88453 3.10825 7.46667 2.625 7.46667Z" />
      <path d="M2.625 14.9333H0.875C0.391751 14.9333 0 15.3512 0 15.8667V17.7333C0 18.2488 0.391751 18.6667 0.875 18.6667H2.625C3.10825 18.6667 3.5 18.2488 3.5 17.7333V15.8667C3.5 15.3512 3.10825 14.9333 2.625 14.9333Z" />
      <path d="M26.25 3.73333H8.75C8.28587 3.73333 7.84075 3.53667 7.51256 3.1866C7.18437 2.83653 7 2.36174 7 1.86667C7 1.3716 7.18437 0.896802 7.51256 0.546734C7.84075 0.196666 8.28587 0 8.75 0H26.25C26.7141 0 27.1593 0.196666 27.4874 0.546734C27.8156 0.896802 28 1.3716 28 1.86667C28 2.36174 27.8156 2.83653 27.4874 3.1866C27.1593 3.53667 26.7141 3.73333 26.25 3.73333Z" />
      <path d="M26.25 11.2H8.75C8.28587 11.2 7.84075 11.0033 7.51256 10.6533C7.18437 10.3032 7 9.8284 7 9.33333C7 8.83826 7.18437 8.36347 7.51256 8.0134C7.84075 7.66333 8.28587 7.46667 8.75 7.46667H26.25C26.7141 7.46667 27.1593 7.66333 27.4874 8.0134C27.8156 8.36347 28 8.83826 28 9.33333C28 9.8284 27.8156 10.3032 27.4874 10.6533C27.1593 11.0033 26.7141 11.2 26.25 11.2Z" />
      <path d="M26.25 18.6667H8.75C8.28587 18.6667 7.84075 18.47 7.51256 18.1199C7.18437 17.7699 7 17.2951 7 16.8C7 16.3049 7.18437 15.8301 7.51256 15.4801C7.84075 15.13 8.28587 14.9333 8.75 14.9333H26.25C26.7141 14.9333 27.1593 15.13 27.4874 15.4801C27.8156 15.8301 28 16.3049 28 16.8C28 17.2951 27.8156 17.7699 27.4874 18.1199C27.1593 18.47 26.7141 18.6667 26.25 18.6667Z" />
    </svg>
  );

  const closeMenu = (
    <svg
      width="26"
      height="26"
      viewBox="0 0 26 26"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={style.buttonSvg}
      onClick={handleClickMenu}
    >
      <path d="M15.1407 12.6L24.6514 3.0893C24.8231 2.92354 24.9599 2.72527 25.0541 2.50605C25.1483 2.28682 25.1979 2.05104 25.1999 1.81246C25.202 1.57388 25.1565 1.33727 25.0662 1.11644C24.9758 0.895616 24.8424 0.694994 24.6737 0.526284C24.505 0.357573 24.3044 0.224151 24.0836 0.133804C24.0836 0.133804 24.0836 0.133804 24.0836 0.133804C23.8627 0.0434575 23.6261 -0.00200539 23.3875 6.78436e-05C23.149 0.00214107 22.9132 0.0517094 22.694 0.14588C22.4747 0.240051 22.2765 0.376939 22.1107 0.548556L12.6 10.0593L3.0893 0.548556C2.75041 0.221246 2.29652 0.0401335 1.82539 0.0442275C1.35426 0.0483214 0.903594 0.237294 0.570444 0.570444C0.237294 0.903594 0.0483214 1.35426 0.0442275 1.82539C0.0401335 2.29652 0.221246 2.75041 0.548556 3.0893L10.0593 12.6L0.548556 22.1107C0.376939 22.2765 0.240051 22.4747 0.14588 22.694C0.0517094 22.9132 0.00214107 23.149 6.78436e-05 23.3875C-0.00200539 23.6261 0.0434575 23.8627 0.133804 24.0836C0.224151 24.3044 0.357573 24.505 0.526284 24.6737C0.694994 24.8424 0.895616 24.9758 1.11644 25.0662C1.33727 25.1565 1.57388 25.202 1.81246 25.1999C2.05104 25.1979 2.28682 25.1483 2.50605 25.0541C2.72527 24.9599 2.92354 24.8231 3.0893 24.6514L12.6 15.1407L22.1107 24.6514C22.4496 24.9788 22.9035 25.1599 23.3746 25.1558C23.8457 25.1517 24.2964 24.9627 24.6296 24.6296C24.9627 24.2964 25.1517 23.8457 25.1558 23.3746C25.1599 22.9035 24.9788 22.4496 24.6514 22.1107L15.1407 12.6Z" />
    </svg>
  );

  const menuIcon = isMobileMenuPage ? closeMenu : openMenu;

  return <>{menuIcon}</>;
}
